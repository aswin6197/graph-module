<html>
<head>
    <title> svg</title>
</head>
<body>
    <script>
        var NS="http://www.w3.org/2000/svg";

        var svg = document.createElementNS(NS,"svg");
        svg.setAttribute('width',window.innerWidth);
        svg.setAttribute('height',window.innerHeight);
        document.body.appendChild(svg);

        var lines = function(x1,y1,x2,y2){
            var line = document.createElementNS(NS,"line");

            line.setAttribute('x1',x1);
            line.setAttribute('y1',y1);
            line.setAttribute('x2',x2);
            line.setAttribute('y2',y2);
            line.setAttribute('stroke',"black");
            //line.setAttribute('stroke-width',10);
            return line;
        }

function text(x,y,string) {
    var t = document.createElementNS(NS,"text");
    t.setAttribute("x",x);
    t.setAttribute('y',y);
    t.textContent = string;
    return t;
}

var coord = {
    x:500,              //x coordinate of the origin of graph
    y:550,             //y coordinate of origin of graph
    xend:1000,      //x coordinate of end of the x axis
    yend:50         //y coordinate of end of y axis
};
var values = {
    xstart : 0,              //no of div in x axis
    ystart : 0,
    xend : 10,
    yend : 100               // no of div in y axis
}

function coordinates(coord,values) {

//x axis
var x = lines(coord.x,coord.y,coord.xend,coord.y);
svg.appendChild(x);

//y axis
x = lines(coord.x,coord.y,coord.x,coord.yend);
svg.appendChild(x);

//lines on x axis
var step = (coord.xend - coord.x)/(values.xend - values.xstart  + 1);
for(i = coord.x+step;i<coord.xend;i+=step){
    x=lines(i,coord.y-10,i,coord.y+10);
    svg.appendChild(x);
}

//lines on y axis
step = (coord.y - coord.yend)/(values.yend - values.ystart + 1)*10;
for(i =coord.yend+step; i<coord.y;i+=step){
    x = lines(coord.x-10,i,coord.x+10,i);
    svg.appendChild(x);
}
//adds text to bottom of graph text is 'x axis'
    x = text((coord.x+coord.xend)/2,coord.y+40,"x axis");
    svg.appendChild(x);

//adds the text 'y axis' to y axis
    x = text(coord.x-90,(coord.y+coord.yend)/2,"y axis");
//    x.setAttribute('rotate',270);
    svg.appendChild(x);
}


//
// //var t =
function fx(x) {
    return x*x;
}

coordinates(coord,values);

// x = document.createElementNS(NS,'text');
// x.setAttribute('x',100);
// x.setAttribute('y',100);
// x.textContent = "hello";
// svg.appendChild(x);

var height = window.innerHeight;
var i=0;
var ratio ={
    x : (coord.xend - coord.x)/(values.xend - values.xstart),
    y : (coord.y  - coord.yend)/(values.yend - values.ystart)
};

while(coord.x + i*ratio.x < coord.xend ){
    var x1 =  coord.x + i*ratio.x;
    var y1 = coord.y- fx(i)*ratio.y;
    var x2 =  (i +1)*ratio.x +coord.x;
    var y2 = coord.y - fx((i+1))*ratio.y;

    x=lines(x1,y1,x2,y2);
    svg.appendChild(x);
    i++;
}
    </script>


    </body>
    </html>
